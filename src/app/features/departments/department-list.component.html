<div class="space-y-6">
    <div class="flex justify-between items-center px-4">
        <div>
            <h1 class="text-2xl font-bold text-slate-900 border-none">Departments</h1>
            <p class="text-slate-500">Manage organization departments</p>
        </div>
        <app-button label="Add Department" icon="pi pi-plus" variant="primary" (onClick)="openAddDialog()"></app-button>
    </div>

    <p-card styleClass="!shadow-sm !border-slate-200">
        <app-common-table [data]="store.departments()" [columns]="columns" [hasActions]="true" (edit)="onEdit($event)"
            (delete)="onDelete($event)">
        </app-common-table>
    </p-card>
</div>

<!-- Add/Edit Department Dialog -->
<p-dialog [header]="dialogTitle" [(visible)]="showDialog" [modal]="true" [draggable]="false" [resizable]="false"
    [style]="{ width: '450px' }" styleClass="!rounded-2xl">

    <form [formGroup]="form" (ngSubmit)="onSave()" class="space-y-4 pt-4">
        <app-common-input label="Department Name" formControlName="name" placeholder="e.g. Engineering"
            [error]="getErrorMessage('name')">
        </app-common-input>

        <div class="flex justify-end gap-3 mt-6 pt-4 border-t border-slate-200">
            <app-button label="Cancel" variant="secondary" (onClick)="showDialog = false"></app-button>
            <app-button type="submit" label="Save Department" icon="pi pi-check" variant="primary"></app-button>
        </div>
    </form>
</p-dialog>